name: "Chat With Memory"
deployed: false

spec:
  nodes:
    - template: "chatOpenAI"
      inputs:
        modelName: "gpt-4o-mini"
        temperature: 0.9

    - template: "bufferMemory"
      inputs:
        memoryKey: "chat_history"

    - template: "conversationChain"
      inputs:
        systemMessagePrompt: "You are a helpful AI assistant with memory."

  edges:
    - from: 0  # chatOpenAI -> conversationChain
      to: 2
      target_anchor: 0

    - from: 1  # bufferMemory -> conversationChain
      to: 2
      target_anchor: 1
